<div class="container">
  <div *ngFor="let bunny of bunnyService.bunnies" class="border border-success m-3 rounded-2 p-1">
    <h3>{{ bunny.name }}</h3>
    <p>Age: {{ bunny.age }}</p>
    <p>Gender: {{ bunny.gender }}</p>
    <p>Breed: {{ bunny.bun_breed_name }}</p>
    <p>Date of Birth: {{ bunny.dob | date:'longDate'}} </p>

    <button class="bg-danger-subtle m-1 rounded-2" (click)="onDeleteBunny(bunny)">Remove Bunny</button>

    <!-- ** EDIT BUTTON ** -->
    <button class="bg-primary rounded-2 ms-4" (click)="editBunny(bunny)">Edit Bunny</button>

    <!-- <div *ngIf="editMode && bunny.bunny_id === editId">
      <form [formGroup]="editBunnyForm">
        <input [formControl]="editName" name="name" placeholder="Name">
        <input [formControl]="editAge" name="age" placeholder="Age">

        <select class="p-1 text-bg-success" [formControl]="editGender" id="gender" name="gender">
          <option value="">Choose</option>
          <option value="M">Boy Buns</option>
          <option value="F">Girl Buns</option>
        </select>

        <select class="p-1 text-bg-success" [formControl]="editBreed" id="breed" name="breed">
          <option value="">Choose</option>
          <option *ngFor="let breed of bunnyService.breeds" 
          [value]="breed.breed_id">{{breed.breed_name}}
          </option>
        </select>

        <input [formControl]="editDOB" name="dob" type="date" (change)="updateDate($e)">

      </form>

      <button (click)="onUpdateBunny()">Save Changes</button>
      <button (click)="onCancelEdit()">Cancel</button>
    </div> -->


  </div>
</div>

<div>

  <bunny-modal id="modal-1">
    <div class="modal-header">
      <h4 class="modal-title">Edit Bunny</h4>
      <button type="button" class="btn-close" (click)="modalService.close();"></button>
    </div>
    <div class="modal-body">
      <p>UPDATE YOUR BUNNY BELOW </p>
      <form #ngForm="ngForm" [formGroup]="bunnyForm">

        <!-- **** NAME -->
        <div class="form-group p-1">
          <label class="m-1" for="name">Name:</label>
          <input class="text-bg-success" formControlName="name" type="text" id="name" name="name" required>
          <div class="text-danger" *ngIf="bunnyForm.get('name').invalid && ngForm.submitted">Name required</div>
        </div>
        <!-- **** AGE -->
        <div>
          <label class="m-2" for="name">Age:</label>
          <input class="text-bg-success" formControlName="age" type="number" id="age" name="age" required>
        </div>

        <!-- **** GENDER -->
        <div class="form-group">
          <label class="m-2" for="gender">Gender:</label>
          <select class="p-1 text-bg-success" formControlName="gender" id="gender" name="gender">
            <option value="">Choose</option>
            <option value="M">Boy Buns</option>
            <option value="F">Girl Buns</option>
          </select>

          <!-- **** BREED -->

          <label class="m-2" for="breed">Breed:</label>
          <select class="p-1 text-bg-success" formControlName="breed" id="breed" name="breed">
            <option value="">Choose</option>
            <option *ngFor="let breed of bunnyService.breeds" [value]="breed.breed_id">{{breed.breed_name}}
            </option>
          </select>
        </div>

        <!-- **** DATE OF BIRTH -->
        <div>
          <label class="m-2" for="dob">Date of Birth:</label>
          <input formControlName="dob" class=" text-bg-success" type="date" id="dob" name="dob">
        </div>
        <!--  ****** BUTTON -->
        <button class="btn btn-info m-2" (click)="saveChangeBunny()">Save Bunny</button>

      </form>



    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="modalService.close();">Close</button>
    </div>
  </bunny-modal>

</div>